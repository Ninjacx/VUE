<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
<style media="screen">
.d1{
  background:yellow;
  width:1000px;
  height:20px;
}
.d2{
  background:#dddddd;
  width:0;
  height:20px;
}
</style>

  </head>
  <body>
    <div class="d1">
      <div class="d2">

      </div>
    </div>

    <video  style="" class="v1" src="https://vdse.bdstatic.com//38d73cc496df0396d02f795c8d7ba2b8.mp4" autoplay  controls>

    </video>


    <script type="text/javascript">
        window.onload = function(){

            var v1 = document.querySelector('.v1');
            var d1 = document.querySelector('.d1');
            var d2 = document.querySelector('.d2');
            // console.log(v1.currentTime+'px');
            // d1.style.width = v1.duration+'px';
            // d1.style.width/v1.duration

          var add =  parseFloat(d1.style.width=1000)/parseFloat(v1.duration);
             v1.addEventListener('timeupdate',function(){
                  d2.style.width = (v1.currentTime+=add)+'px';
               },false);
        }
    </script>
  </body>
</html>
